<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/package.json">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/package.json" />
              <option name="originalContent" value="{&#10;  &quot;name&quot;: &quot;project-me-ui&quot;,&#10;  &quot;version&quot;: &quot;0.2.0&quot;,&#10;  &quot;private&quot;: true,&#10;  &quot;scripts&quot;: {&#10;    &quot;dev&quot;: &quot;next dev&quot;,&#10;    &quot;build&quot;: &quot;prisma generate &amp;&amp; next build&quot;,&#10;    &quot;start&quot;: &quot;next start&quot;,&#10;    &quot;lint&quot;: &quot;next lint&quot;,&#10;    &quot;postinstall&quot;: &quot;prisma generate&quot;&#10;  },&#10;  &quot;dependencies&quot;: {&#10;    &quot;@prisma/client&quot;: &quot;^5.22.0&quot;,&#10;    &quot;@prisma/extension-accelerate&quot;: &quot;^3.0.1&quot;,&#10;    &quot;next&quot;: &quot;^14.0.4&quot;,&#10;    &quot;prisma&quot;: &quot;^5.22.0&quot;,&#10;    &quot;react&quot;: &quot;^18.2.0&quot;,&#10;    &quot;react-dom&quot;: &quot;^18.2.0&quot;&#10;  },&#10;  &quot;devDependencies&quot;: {&#10;    &quot;@types/node&quot;: &quot;^20.10.5&quot;,&#10;    &quot;@types/react&quot;: &quot;^18.2.45&quot;,&#10;    &quot;@types/react-dom&quot;: &quot;^18.2.18&quot;,&#10;    &quot;autoprefixer&quot;: &quot;^10.4.16&quot;,&#10;    &quot;postcss&quot;: &quot;^8.4.32&quot;,&#10;    &quot;tailwindcss&quot;: &quot;^3.3.6&quot;,&#10;    &quot;typescript&quot;: &quot;^5.3.3&quot;&#10;  }&#10;}&#10;" />
              <option name="updatedContent" value="{&#10;  &quot;name&quot;: &quot;project-me-ui&quot;,&#10;  &quot;version&quot;: &quot;0.2.0&quot;,&#10;  &quot;private&quot;: true,&#10;  &quot;scripts&quot;: {&#10;    &quot;dev&quot;: &quot;next dev&quot;,&#10;    &quot;build&quot;: &quot;prisma generate --no-engine &amp;&amp; next build&quot;,&#10;    &quot;start&quot;: &quot;next start&quot;,&#10;    &quot;lint&quot;: &quot;next lint&quot;,&#10;    &quot;postinstall&quot;: &quot;prisma generate --no-engine&quot;&#10;  },&#13;&#10;  &quot;dependencies&quot;: {&#13;&#10;    &quot;@prisma/client&quot;: &quot;^5.22.0&quot;,&#13;&#10;    &quot;@prisma/extension-accelerate&quot;: &quot;^3.0.1&quot;,&#13;&#10;    &quot;next&quot;: &quot;^14.0.4&quot;,&#13;&#10;    &quot;prisma&quot;: &quot;^5.22.0&quot;,&#13;&#10;    &quot;react&quot;: &quot;^18.2.0&quot;,&#13;&#10;    &quot;react-dom&quot;: &quot;^18.2.0&quot;&#13;&#10;  },&#13;&#10;  &quot;devDependencies&quot;: {&#13;&#10;    &quot;@types/node&quot;: &quot;^20.10.5&quot;,&#13;&#10;    &quot;@types/react&quot;: &quot;^18.2.45&quot;,&#13;&#10;    &quot;@types/react-dom&quot;: &quot;^18.2.18&quot;,&#13;&#10;    &quot;autoprefixer&quot;: &quot;^10.4.16&quot;,&#13;&#10;    &quot;postcss&quot;: &quot;^8.4.32&quot;,&#13;&#10;    &quot;tailwindcss&quot;: &quot;^3.3.6&quot;,&#13;&#10;    &quot;typescript&quot;: &quot;^5.3.3&quot;&#13;&#10;  }&#13;&#10;}&#13;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/prisma/schema.prisma">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/prisma/schema.prisma" />
              <option name="originalContent" value="// This is your Prisma schema file,&#10;// learn more about it in the docs: https://pris.ly/d/prisma-schema&#10;&#10;generator client {&#10;  provider = &quot;prisma-client-js&quot;&#10;  output   = &quot;../generated-prisma-client&quot;&#10;}&#10;&#10;datasource db {&#10;  provider = &quot;postgresql&quot;&#10;  url      = env(&quot;DATABASE_URL&quot;)&#10;}&#10;&#10;// User model - for multi-user support&#10;model User {&#10;  id            String   @id @default(uuid())&#10;  email         String?  @unique&#10;  name          String?&#10;  username      String?  @unique&#10;  passwordHash  String?  // Optional: for local auth&#10;  createdAt     DateTime @default(now())&#10;  updatedAt     DateTime @updatedAt&#10;  lastLoginAt   DateTime?&#10;&#10;  // Relations&#10;  tasks         Task[]&#10;  events        Event[]&#10;  settings      Settings[]&#10;  sessions      Session[]&#10;&#10;  @@index([email])&#10;  @@index([username])&#10;}&#10;&#10;// Session model - for authentication&#10;model Session {&#10;  id        String   @id @default(uuid())&#10;  userId    String&#10;  token     String   @unique&#10;  expiresAt DateTime&#10;  createdAt DateTime @default(now())&#10;&#10;  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([userId])&#10;  @@index([token])&#10;  @@index([expiresAt])&#10;}&#10;&#10;// Task model - enhanced with user ownership&#10;model Task {&#10;  id            String   @id @default(uuid())&#10;  userId        String?  // Optional: tasks can be user-specific or global&#10;  title         String&#10;  description   String?&#10;  status        String   @default(&quot;pending&quot;) // pending, running, completed, failed&#10;  type          String   @default(&quot;general&quot;)&#10;  payload       Json?    // Use native JSON type for PostgreSQL&#10;  tags          String[] // Use native array type for PostgreSQL&#10;  createdAt     DateTime @default(now())&#10;  updatedAt     DateTime @updatedAt&#10;  lastRunAt     DateTime?&#10;  runnerStatus  String?&#10;&#10;  // LLM Output fields&#10;  outputText    String?  // Main human-readable LLM output&#10;  outputRaw     Json?    // Raw JSON response from runner&#10;  errorMessage  String?  // Error message if runner failed&#10;&#10;  // Metadata&#10;  priority      Int      @default(0) // Higher = more important&#10;  isPublic      Boolean  @default(false) // Can other users see this?&#10;  executionTime Int?     // Execution time in milliseconds&#10;&#10;  // Relations&#10;  user          User?    @relation(fields: [userId], references: [id], onDelete: SetNull)&#10;  events        Event[]&#10;&#10;  @@index([userId])&#10;  @@index([status])&#10;  @@index([type])&#10;  @@index([createdAt])&#10;  @@index([isPublic])&#10;}&#10;&#10;// Event model - enhanced with user tracking&#10;model Event {&#10;  id        String   @id @default(uuid())&#10;  userId    String?  // Who triggered this event&#10;  taskId    String?&#10;  eventType String&#10;  timestamp DateTime @default(now())&#10;  data      Json?    // Use native JSON type&#10;  level     String   @default(&quot;info&quot;) // info, warn, error, debug&#10;&#10;  // Relations&#10;  user      User?    @relation(fields: [userId], references: [id], onDelete: SetNull)&#10;  task      Task?    @relation(fields: [taskId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([userId])&#10;  @@index([taskId])&#10;  @@index([eventType])&#10;  @@index([timestamp])&#10;  @@index([level])&#10;}&#10;&#10;// Settings model - per-user settings&#10;model Settings {&#10;  id          String   @id @default(uuid())&#10;  userId      String?  // Optional: global settings if null&#10;  runnerUrl   String?&#10;  runnerToken String?&#10;  preferences Json?    // Flexible JSON for UI preferences, theme, etc.&#10;  updatedAt   DateTime @updatedAt&#10;  createdAt   DateTime @default(now())&#10;&#10;  // Relations&#10;  user        User?    @relation(fields: [userId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([userId])&#10;}&#10;&#10;// LLM Session model - for conversational tasks&#10;model LLMSession {&#10;  id          String   @id @default(uuid())&#10;  userId      String?&#10;  sessionId   String   @unique // Custom session identifier&#10;  title       String?&#10;  systemPrompt String?&#10;  summary     String?  // Rolling summary of conversation&#10;  metadata    Json?&#10;  createdAt   DateTime @default(now())&#10;  updatedAt   DateTime @updatedAt&#10;  lastUsedAt  DateTime @default(now())&#10;&#10;  messages    LLMMessage[]&#10;&#10;  @@index([userId])&#10;  @@index([sessionId])&#10;  @@index([lastUsedAt])&#10;}&#10;&#10;// LLM Message model - individual messages in a session&#10;model LLMMessage {&#10;  id        String     @id @default(uuid())&#10;  sessionId String&#10;  role      String     // system, user, assistant&#10;  content   String&#10;  timestamp DateTime   @default(now())&#10;  metadata  Json?      // Token count, model used, etc.&#10;&#10;  session   LLMSession @relation(fields: [sessionId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([sessionId])&#10;  @@index([timestamp])&#10;}&#10;&#10;// Sandbox File model - track files in sandbox&#10;model SandboxFile {&#10;  id        String   @id @default(uuid())&#10;  userId    String?&#10;  path      String   // Relative path in sandbox&#10;  content   String?  // File content&#10;  size      Int?     // File size in bytes&#10;  mimeType  String?&#10;  isDeleted Boolean  @default(false)&#10;  createdAt DateTime @default(now())&#10;  updatedAt DateTime @updatedAt&#10;&#10;  @@index([userId])&#10;  @@index([path])&#10;  @@index([userId, path]) // Combined index for lookups&#10;  @@index([isDeleted])&#10;}&#10;&#10;// Audit Log model - track all important actions&#10;model AuditLog {&#10;  id        String   @id @default(uuid())&#10;  userId    String?&#10;  action    String   // create_task, run_task, delete_file, etc.&#10;  resource  String?  // task:123, file:sandbox/test.txt&#10;  metadata  Json?&#10;  ipAddress String?&#10;  userAgent String?&#10;  timestamp DateTime @default(now())&#10;&#10;  @@index([userId])&#10;  @@index([action])&#10;  @@index([timestamp])&#10;}&#10;&#10;" />
              <option name="updatedContent" value="// This is your Prisma schema file,&#10;// learn more about it in the docs: https://pris.ly/d/prisma-schema&#10;&#10;generator client {&#10;  provider = &quot;prisma-client-js&quot;&#10;  output   = &quot;../generated-prisma-client&quot;&#10;}&#10;&#10;datasource db {&#10;  provider  = &quot;postgresql&quot;&#10;  url       = env(&quot;DATABASE_URL&quot;)&#10;  directUrl = env(&quot;DIRECT_DATABASE_URL&quot;)&#10;}&#10;&#10;// User model - for multi-user support&#10;model User {&#10;  id            String   @id @default(uuid())&#10;  email         String?  @unique&#10;  name          String?&#10;  username      String?  @unique&#10;  passwordHash  String?  // Optional: for local auth&#10;  createdAt     DateTime @default(now())&#10;  updatedAt     DateTime @updatedAt&#10;  lastLoginAt   DateTime?&#10;&#10;  // Relations&#10;  tasks         Task[]&#10;  events        Event[]&#10;  settings      Settings[]&#10;  sessions      Session[]&#10;&#10;  @@index([email])&#10;  @@index([username])&#10;}&#10;&#10;// Session model - for authentication&#10;model Session {&#10;  id        String   @id @default(uuid())&#10;  userId    String&#10;  token     String   @unique&#10;  expiresAt DateTime&#10;  createdAt DateTime @default(now())&#10;&#10;  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([userId])&#10;  @@index([token])&#10;  @@index([expiresAt])&#10;}&#10;&#10;// Task model - enhanced with user ownership&#10;model Task {&#10;  id            String   @id @default(uuid())&#10;  userId        String?  // Optional: tasks can be user-specific or global&#10;  title         String&#10;  description   String?&#10;  status        String   @default(&quot;pending&quot;) // pending, running, completed, failed&#10;  type          String   @default(&quot;general&quot;)&#10;  payload       Json?    // Use native JSON type for PostgreSQL&#10;  tags          String[] // Use native array type for PostgreSQL&#10;  createdAt     DateTime @default(now())&#10;  updatedAt     DateTime @updatedAt&#10;  lastRunAt     DateTime?&#10;  runnerStatus  String?&#10;&#10;  // LLM Output fields&#10;  outputText    String?  // Main human-readable LLM output&#10;  outputRaw     Json?    // Raw JSON response from runner&#10;  errorMessage  String?  // Error message if runner failed&#10;&#10;  // Metadata&#10;  priority      Int      @default(0) // Higher = more important&#10;  isPublic      Boolean  @default(false) // Can other users see this?&#10;  executionTime Int?     // Execution time in milliseconds&#10;&#10;  // Relations&#10;  user          User?    @relation(fields: [userId], references: [id], onDelete: SetNull)&#10;  events        Event[]&#10;&#10;  @@index([userId])&#10;  @@index([status])&#10;  @@index([type])&#10;  @@index([createdAt])&#10;  @@index([isPublic])&#10;}&#10;&#10;// Event model - enhanced with user tracking&#10;model Event {&#10;  id        String   @id @default(uuid())&#10;  userId    String?  // Who triggered this event&#10;  taskId    String?&#10;  eventType String&#10;  timestamp DateTime @default(now())&#10;  data      Json?    // Use native JSON type&#10;  level     String   @default(&quot;info&quot;) // info, warn, error, debug&#10;&#10;  // Relations&#10;  user      User?    @relation(fields: [userId], references: [id], onDelete: SetNull)&#10;  task      Task?    @relation(fields: [taskId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([userId])&#10;  @@index([taskId])&#10;  @@index([eventType])&#10;  @@index([timestamp])&#10;  @@index([level])&#10;}&#10;&#10;// Settings model - per-user settings&#10;model Settings {&#10;  id          String   @id @default(uuid())&#10;  userId      String?  // Optional: global settings if null&#10;  runnerUrl   String?&#10;  runnerToken String?&#10;  preferences Json?    // Flexible JSON for UI preferences, theme, etc.&#10;  updatedAt   DateTime @updatedAt&#10;  createdAt   DateTime @default(now())&#10;&#10;  // Relations&#10;  user        User?    @relation(fields: [userId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([userId])&#10;}&#10;&#10;// LLM Session model - for conversational tasks&#10;model LLMSession {&#10;  id          String   @id @default(uuid())&#10;  userId      String?&#10;  sessionId   String   @unique // Custom session identifier&#10;  title       String?&#10;  systemPrompt String?&#10;  summary     String?  // Rolling summary of conversation&#10;  metadata    Json?&#10;  createdAt   DateTime @default(now())&#10;  updatedAt   DateTime @updatedAt&#10;  lastUsedAt  DateTime @default(now())&#10;&#10;  messages    LLMMessage[]&#10;&#10;  @@index([userId])&#10;  @@index([sessionId])&#10;  @@index([lastUsedAt])&#10;}&#10;&#10;// LLM Message model - individual messages in a session&#10;model LLMMessage {&#10;  id        String     @id @default(uuid())&#10;  sessionId String&#10;  role      String     // system, user, assistant&#10;  content   String&#10;  timestamp DateTime   @default(now())&#10;  metadata  Json?      // Token count, model used, etc.&#10;&#10;  session   LLMSession @relation(fields: [sessionId], references: [id], onDelete: Cascade)&#10;&#10;  @@index([sessionId])&#10;  @@index([timestamp])&#10;}&#10;&#10;// Sandbox File model - track files in sandbox&#10;model SandboxFile {&#10;  id        String   @id @default(uuid())&#10;  userId    String?&#10;  path      String   // Relative path in sandbox&#10;  content   String?  // File content&#10;  size      Int?     // File size in bytes&#10;  mimeType  String?&#10;  isDeleted Boolean  @default(false)&#10;  createdAt DateTime @default(now())&#10;  updatedAt DateTime @updatedAt&#10;&#10;  @@index([userId])&#10;  @@index([path])&#10;  @@index([userId, path]) // Combined index for lookups&#10;  @@index([isDeleted])&#10;}&#10;&#10;// Audit Log model - track all important actions&#10;model AuditLog {&#10;  id        String   @id @default(uuid())&#10;  userId    String?&#10;  action    String   // create_task, run_task, delete_file, etc.&#10;  resource  String?  // task:123, file:sandbox/test.txt&#10;  metadata  Json?&#10;  ipAddress String?&#10;  userAgent String?&#10;  timestamp DateTime @default(now())&#10;&#10;  @@index([userId])&#10;  @@index([action])&#10;  @@index([timestamp])&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>